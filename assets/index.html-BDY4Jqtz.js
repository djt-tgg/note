import{_ as l,c as e,a as s,b as t,o as h,r as i}from"./app-CebKgOdK.js";const k={},p=t(`<h1 id="react笔记" tabindex="-1"><a class="header-anchor" href="#react笔记"><span>React笔记</span></a></h1><h2 id="组件通信" tabindex="-1"><a class="header-anchor" href="#组件通信"><span>组件通信</span></a></h2><div class="language-javascript line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="shiki shiki-themes catppuccin-macchiato one-dark-pro vp-code" style="--shiki-light:#cad3f5;--shiki-dark:#abb2bf;--shiki-light-bg:#24273a;--shiki-dark-bg:#282c34 language-javascript;"><code><span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// 父传子</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// Parent父组件</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;"> React</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;"> Component</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> }</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;"> &#39;react&#39;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;"> Children</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;"> &#39;./Children&#39;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#EED49F;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Parent</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#EED49F;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Component</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">  state</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;"> list</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;"> [] </span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">}</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8AADF4;--shiki-dark:#61AFEF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  change</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> ()</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> }</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8AADF4;--shiki-dark:#61AFEF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  render</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // 解构state</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E5C07B;"> list</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> }</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#ED8796;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">state</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;"> (</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#8AADF4;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#C678DD;">        {</span><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">/* 向子组件传入数据 change为父组件传给子组件的函数  子组件可执行此函数达到子串父的目的*/</span><span style="--shiki-light:#939AB7;--shiki-dark:#C678DD;">}</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">        &lt;</span><span style="--shiki-light:#F5BDE6;--shiki-dark:#E5C07B;">Children</span><span style="--shiki-light:#EED49F;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> change</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#939AB7;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#ED8796;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">change</span><span style="--shiki-light:#939AB7;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#EED49F;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> list</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#939AB7;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#EE99A0;--shiki-dark:#E06C75;">list</span><span style="--shiki-light:#939AB7;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;"> /&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">      &lt;/</span><span style="--shiki-light:#8AADF4;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">    )</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">  }</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">}</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">//子组件接收数据  直接通过props接收  this.props 可解构</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">//子传父: 可通过父组件向子组件传入一个函数,子组件通过props执行父组件的函数来达到子传父的母的</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// 任意组件通信  消息发布/订阅  pubsub-js</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">//组件A</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;"> React</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;"> Component</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> }</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;"> &#39;react&#39;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;"> PubSub</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;"> &#39;pubsub-js&#39;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#EED49F;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> A</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#EED49F;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Component</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">  // 订阅消息</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8AADF4;--shiki-dark:#61AFEF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  componentDidMount</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#E5C07B;">    PubSub</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#8AADF4;--shiki-dark:#61AFEF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">subscribe</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;">&#39;send&#39;</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#EE99A0;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">msg</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#EE99A0;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> data</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">      // data为接收到的数据</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">    }</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">)</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">  }</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8AADF4;--shiki-dark:#61AFEF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  render</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;"> (</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#8AADF4;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">A</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#8AADF4;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">    )</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">  }</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">}</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// 组件B发送消息</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;"> React</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;"> Component</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> }</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;"> &#39;react&#39;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;"> PubSub</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;"> &#39;pubsub-js&#39;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#EED49F;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> B</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#EED49F;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Component</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8AADF4;--shiki-dark:#61AFEF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  render</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // 发送消息</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8AADF4;--shiki-dark:#61AFEF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    send</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> ()</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#E5C07B;">      PubSub</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#8AADF4;--shiki-dark:#61AFEF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">publish</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;">&#39;send&#39;</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;"> &#39;发送的数据&#39;</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">)</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">    }</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;"> (</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#8AADF4;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#EED49F;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> onClick</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#939AB7;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#ED8796;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">send</span><span style="--shiki-light:#939AB7;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">发送消息</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#8AADF4;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">    )</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">  }</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">}</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="props的限制" tabindex="-1"><a class="header-anchor" href="#props的限制"><span>Props的限制</span></a></h2><div class="language-javascript line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="shiki shiki-themes catppuccin-macchiato one-dark-pro vp-code" style="--shiki-light:#cad3f5;--shiki-dark:#abb2bf;--shiki-light-bg:#24273a;--shiki-dark-bg:#282c34 language-javascript;"><code><span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;"> React</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;"> Component</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> }</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;"> &#39;react&#39;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// 需格外引入对类型作限制的包</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;"> PropTypes</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;"> &#39;prop-types&#39;</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// 子组件对接收的props作类型限制</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#EED49F;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Children</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#EED49F;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Component</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">  // 定义props statis相当于往Children组件/类里添加属性</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">  static</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;"> propTypes</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">    name</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E5C07B;"> PropTypes</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E5C07B;">string</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">isRequired</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // string类型  必填</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">    wc</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E5C07B;"> PropTypes</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">func</span><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> //传值要是函数</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">  }</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">  // 指定props的默认值</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">  static</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;"> defaultProps</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">    name</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;"> &#39;tt&#39;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">  }</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8AADF4;--shiki-dark:#61AFEF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  render</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // 解构props</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E5C07B;"> name</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> }</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#ED8796;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">props</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#8AADF4;--shiki-dark:#E06C75;">h1</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;"> &gt;</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">props的值:</span><span style="--shiki-light:#939AB7;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#EE99A0;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#939AB7;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#8AADF4;--shiki-dark:#E06C75;">h1</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">  }</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">}</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="react代理" tabindex="-1"><a class="header-anchor" href="#react代理"><span>React代理</span></a></h2><div class="language-javascript line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="shiki shiki-themes catppuccin-macchiato one-dark-pro vp-code" style="--shiki-light:#cad3f5;--shiki-dark:#abb2bf;--shiki-light-bg:#24273a;--shiki-dark-bg:#282c34 language-javascript;"><code><span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// 在src中添加一个setupProxy的文件</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E5C07B;"> proxy</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#8AADF4;--shiki-dark:#61AFEF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> require</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;">&#39;http-proxy-middleware&#39;</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">exports</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#EE99A0;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">app</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#E5C07B;">  app</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#8AADF4;--shiki-dark:#61AFEF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">use</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">(</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8AADF4;--shiki-dark:#61AFEF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    proxy</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;">&#39;/api1&#39;</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">      target</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;"> &#39;http://localhost:5000&#39;</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">,</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">      changeOrigin</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#F5A97F;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">      // 默认值是false 是否让服务器知道自己的Host</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">      pathRewrite</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;"> &#39;^/api1&#39;</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;"> &#39;&#39;</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> }</span><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // 路径重写</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">    }</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">,</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8AADF4;--shiki-dark:#61AFEF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">    proxy</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;">&#39;/api2&#39;</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">      target</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;"> &#39;http://localhost:5001&#39;</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">,</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">      changeOrigin</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#F5A97F;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">      // 默认值是false</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">      pathRewrite</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;"> &#39;^/api2&#39;</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;"> &#39;&#39;</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> }</span><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // 路径重写</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">    }</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">,</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">  )</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">}</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="生命周期" tabindex="-1"><a class="header-anchor" href="#生命周期"><span>生命周期</span></a></h2><div class="language-javascript line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="shiki shiki-themes catppuccin-macchiato one-dark-pro vp-code" style="--shiki-light:#cad3f5;--shiki-dark:#abb2bf;--shiki-light-bg:#24273a;--shiki-dark-bg:#282c34 language-javascript;"><code><span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// 1. 组件的三个生命周期状态:</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">//  Mount：插入真实 DOM</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// Update：被重新渲染</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// Unmount：被移出真实 DOM</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// 2. 生命周期流程:</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">//  * 第一次初始化显示: ReactDOM.render(&lt;Xxx /&gt;, containDom)</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// constructor()</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// componentWillMount() : 将要插入回调</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// render() : 用于插入虚拟DOM回调</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// componentDidMount() : 已经插入回调</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">//   * 每次更新state: this.setState({})</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// componentWillReceiveProps(): 接收父组件新的属性</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// componentWillUpdate() : 将要更新回调</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// render() : 更新(重新渲染)</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// componentDidUpdate() : 已经更新回调</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">//   * 删除组件: ReactDOM.unmountComponentAtNode(div): 移除组件</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// componentWillUnmount() : 组件将要被移除回调</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// 3. 常用的方法</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// render(): 必须重写, 返回一个自定义的虚拟DOM</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// constructor(): 初始化状态, 绑定this(可以箭头函数代替)</span></span></span>
<span class="line"><span class="line highlighted"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// componentDidMount() : 只执行一次, 已经在dom树中, 适合启动 / 设置一些监听</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="react路由" tabindex="-1"><a class="header-anchor" href="#react路由"><span>React路由</span></a></h2><h3 id="路由基本使用" tabindex="-1"><a class="header-anchor" href="#路由基本使用"><span>路由基本使用</span></a></h3><ul><li>路由默认push跳转方式,改为replace跳转在Link标签里添加此属性即可</li></ul><div class="language-javascript line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="shiki shiki-themes catppuccin-macchiato one-dark-pro vp-code" style="--shiki-light:#cad3f5;--shiki-dark:#abb2bf;--shiki-light-bg:#24273a;--shiki-dark-bg:#282c34 language-javascript;"><code><span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// index.js中</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#E5C07B;">root</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#8AADF4;--shiki-dark:#61AFEF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">render</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">(</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#F5BDE6;--shiki-dark:#E5C07B;">React.StrictMode</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span></span></span>
<span class="line"><span class="line highlighted"><span style="--shiki-light:#939AB7;--shiki-dark:#C678DD;">    {</span><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">/* BrowserRouter为history模式  &lt;HashRouter&gt;为hash模式*/</span><span style="--shiki-light:#939AB7;--shiki-dark:#C678DD;">}</span></span></span>
<span class="line"><span class="line highlighted"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#F5BDE6;--shiki-dark:#E5C07B;">BrowserRouter</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#F5BDE6;--shiki-dark:#E5C07B;">App</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;"> /&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">    &lt;/</span><span style="--shiki-light:#F5BDE6;--shiki-dark:#E5C07B;">BrowserRouter</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">  &lt;/</span><span style="--shiki-light:#F5BDE6;--shiki-dark:#E5C07B;">React.StrictMode</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // App.js中</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8AADF4;--shiki-dark:#61AFEF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">  render</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">{</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;"> (</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#8AADF4;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">        &lt;</span><span style="--shiki-light:#8AADF4;--shiki-dark:#E06C75;">ul</span><span style="--shiki-light:#EED49F;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> style</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#FFFFFF;">={{ display: &#39;flex&#39;, gap: &#39;15px&#39; }}&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#FFFFFF;">          &lt;NavLink</span><span style="--shiki-light:#EED49F;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> to</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;">&#39;/home&#39;</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">Home</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#F5BDE6;--shiki-dark:#E5C07B;">NavLink</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">          &lt;</span><span style="--shiki-light:#F5BDE6;--shiki-dark:#E5C07B;">NavLink</span><span style="--shiki-light:#EED49F;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> to</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;">&#39;/about&#39;</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">About</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#F5BDE6;--shiki-dark:#E5C07B;">NavLink</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">        &lt;/</span><span style="--shiki-light:#8AADF4;--shiki-dark:#E06C75;">ul</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">        &lt;</span><span style="--shiki-light:#8AADF4;--shiki-dark:#E06C75;">h3</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">以下为路由对应的组件</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#8AADF4;--shiki-dark:#E06C75;">h3</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span></span></span>
<span class="line"><span class="line highlighted"><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">        {</span><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">/* &lt;Switch&gt; 会遍历所有包含的 &lt;Route&gt;s 并渲染匹配的第一条 */</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">}</span></span></span>
<span class="line"><span class="line highlighted"><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">        {</span><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">/* exact为精准匹配,用的比较少,不能随便开,可能会导致无法匹配二级路由 */</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">}</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">        &lt;</span><span style="--shiki-light:#F5BDE6;--shiki-dark:#E5C07B;">Switch</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span></span></span>
<span class="line"><span class="line highlighted"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">          &lt;</span><span style="--shiki-light:#F5BDE6;--shiki-dark:#E5C07B;">Route</span><span style="--shiki-light:#EED49F;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> exact</span><span style="--shiki-light:#EED49F;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> path</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;">&#39;/home&#39;</span><span style="--shiki-light:#EED49F;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> component</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#939AB7;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">Home</span><span style="--shiki-light:#939AB7;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;"> /&gt;</span></span></span>
<span class="line"><span class="line highlighted"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">          &lt;</span><span style="--shiki-light:#F5BDE6;--shiki-dark:#E5C07B;">Route</span><span style="--shiki-light:#EED49F;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> path</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;">&#39;/about&#39;</span><span style="--shiki-light:#EED49F;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> component</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#939AB7;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">About</span><span style="--shiki-light:#939AB7;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;"> /&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#C678DD;">          {</span><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">/* 重定向Redirect ,都没有匹配上时重定向到此组件*/</span><span style="--shiki-light:#939AB7;--shiki-dark:#C678DD;">}</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">          &lt;</span><span style="--shiki-light:#F5BDE6;--shiki-dark:#E5C07B;">Redirect</span><span style="--shiki-light:#EED49F;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> to</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;">&#39;/home&#39;</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;"> /&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">        &lt;/</span><span style="--shiki-light:#F5BDE6;--shiki-dark:#E5C07B;">Switch</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;">      &lt;/</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">    )</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">  }</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="路由传参" tabindex="-1"><a class="header-anchor" href="#路由传参"><span>路由传参</span></a></h3><ul><li>params方式传参</li></ul><div class="language-javascript line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="shiki shiki-themes catppuccin-macchiato one-dark-pro vp-code" style="--shiki-light:#cad3f5;--shiki-dark:#abb2bf;--shiki-light-bg:#24273a;--shiki-dark-bg:#282c34 language-javascript;"><code><span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">//paraps传参方式</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">//组件通过路由链接传参</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#F5BDE6;--shiki-dark:#E5C07B;">NavLink</span><span style="--shiki-light:#EED49F;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> to</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;">&#39;/home/18/wc&#39;</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">Home</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#F5BDE6;--shiki-dark:#E5C07B;">NavLink</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">//路由需配合接收  </span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#F5BDE6;--shiki-dark:#E5C07B;">Route</span><span style="--shiki-light:#EED49F;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  path</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;">&#39;/home/:age/:name&#39;</span><span style="--shiki-light:#EED49F;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> component</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#939AB7;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">Home</span><span style="--shiki-light:#939AB7;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">//接收参数 this.props.match.params</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>search方式传参</li></ul><div class="language-javascript line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="shiki shiki-themes catppuccin-macchiato one-dark-pro vp-code" style="--shiki-light:#cad3f5;--shiki-dark:#abb2bf;--shiki-light-bg:#24273a;--shiki-dark-bg:#282c34 language-javascript;"><code><span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">//组件通过路由链接传参 注册路由无需配置</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#F5BDE6;--shiki-dark:#E5C07B;">NavLink</span><span style="--shiki-light:#EED49F;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> to</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;">&#39;/home?age=18&amp;name=wc&#39;</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">Home</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#F5BDE6;--shiki-dark:#E5C07B;">NavLink</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">//组件接收</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#ED8796;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E5C07B;">props</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E5C07B;">location</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">search</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">//此时接收到的为urlencoded编码字符串,需要用querystring解析  此方法需引入</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">//import qs from &#39;querystring&#39;  无需下载 脚手架自带</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>state方式传参</li></ul><div class="language-javascript line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="shiki shiki-themes catppuccin-macchiato one-dark-pro vp-code" style="--shiki-light:#cad3f5;--shiki-dark:#abb2bf;--shiki-light-bg:#24273a;--shiki-dark-bg:#282c34 language-javascript;"><code><span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">//传参为一个对象</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#F5BDE6;--shiki-dark:#E5C07B;">NavLink</span><span style="--shiki-light:#EED49F;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> to</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#FFFFFF;">={{ pathname: &#39;/home&#39;, state: { age: 18, name: &#39;wc&#39; } }}&gt;About&lt;/NavLink&gt;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">//接收 此传参方式参数不会被记录在浏览器的url里</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#CAD3F5;--shiki-dark:#FFFFFF;">this.props.location.state</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="编程式导航" tabindex="-1"><a class="header-anchor" href="#编程式导航"><span>编程式导航</span></a></h3><div class="language-javascript line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="shiki shiki-themes catppuccin-macchiato one-dark-pro vp-code" style="--shiki-light:#cad3f5;--shiki-dark:#abb2bf;--shiki-light-bg:#24273a;--shiki-dark-bg:#282c34 language-javascript;"><code><span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">//两种跳转方式 replace和push  path为跳转路径,可url传参  第二个参数可传state参数{a:xxx,b:xxx}</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#ED8796;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E5C07B;">props</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E5C07B;">history</span><span style="--shiki-light:#8BD5CA;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#8AADF4;--shiki-dark:#61AFEF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">replace</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">path</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">state</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">)</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="withrouter" tabindex="-1"><a class="header-anchor" href="#withrouter"><span>withRouter</span></a></h3><div class="language-javascript line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="shiki shiki-themes catppuccin-macchiato one-dark-pro vp-code" style="--shiki-light:#cad3f5;--shiki-dark:#abb2bf;--shiki-light-bg:#24273a;--shiki-dark-bg:#282c34 language-javascript;"><code><span class="line"><span class="line"><span style="--shiki-light:#6E738D;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">//withRouter 可将一般组件加工成路由组件  一般组件没有router的那三个属性  加工后可以使用路由方法</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#E06C75;">withRouter</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#A6DA95;--shiki-dark:#98C379;"> &#39;react-router-dom&#39;</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#EED49F;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Wc</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#EED49F;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> Component</span><span style="--shiki-light:#939AB7;--shiki-dark:#ABB2BF;">{}</span></span></span>
<span class="line"><span class="line"><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#C6A0F6;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#8AADF4;--shiki-dark:#61AFEF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"> withRouter</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#EE99A0;--shiki-dark:#E06C75;">Wc</span><span style="--shiki-light:#CAD3F5;--shiki-dark:#ABB2BF;">)</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,24);function d(r,c){const a=i("Effect"),n=i("CommentService");return h(),e("div",null,[p,s(a),s(n)])}const g=l(k,[["render",d],["__file","index.html.vue"]]),y=JSON.parse('{"path":"/React/","title":"React笔记","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"组件通信","slug":"组件通信","link":"#组件通信","children":[]},{"level":2,"title":"Props的限制","slug":"props的限制","link":"#props的限制","children":[]},{"level":2,"title":"React代理","slug":"react代理","link":"#react代理","children":[]},{"level":2,"title":"生命周期","slug":"生命周期","link":"#生命周期","children":[]},{"level":2,"title":"React路由","slug":"react路由","link":"#react路由","children":[{"level":3,"title":"路由基本使用","slug":"路由基本使用","link":"#路由基本使用","children":[]},{"level":3,"title":"路由传参","slug":"路由传参","link":"#路由传参","children":[]},{"level":3,"title":"编程式导航","slug":"编程式导航","link":"#编程式导航","children":[]},{"level":3,"title":"withRouter","slug":"withrouter","link":"#withrouter","children":[]}]}],"git":{"updatedTime":1721985816000,"contributors":[{"name":"v_jntaodeng","email":"v_jntaodeng@tencent.com","commits":2}]},"filePathRelative":"React/README.md"}');export{g as comp,y as data};
